import{N as u,P as v,D as b,b as w,a as y}from"./index.2a212af4.js";import{a as m}from"./axios.bf56c3c5.js";const S=async(e,{timeout:s=5e3,position:a="center",mensaje:t=void 0}={timeout:5e3,position:"center"})=>{var o,p,i,l,d;console.log((o=e.response)==null?void 0:o.data);try{a.toString().trim()===""&&(a="center");let r="",c="",g=!1;if(!e)return;if(e.response)if(e.response.status===401){u.create({message:"Sesi\xF3n vencida, ingrese nuevamente",color:"secondary",icon:"timer_off",position:"top"}),v.remove("token"),await new Promise(n=>setTimeout(n,1500));return}else e.response.data?"detail"in((p=e.response)==null?void 0:p.data)?(r=e.response.status.toString()+" - "+((i=e.response)==null?void 0:i.data.detail).error,c=((l=e.response)==null?void 0:l.data.detail).message.toString()):e.response.status!==200&&(e.response.data=(d=e.response)==null?void 0:d.data,console.log(e.response.data.errors.map(n=>n.constraints)[0]),r=e.response.status.toString()+" - "+e.response.data.message,e.response.data.errors!==void 0&&(c=e.response.data.errors.flatMap(h=>Object.values(h.constraints)).join(", <hr>"),g=!0)):(r=e.response.status.toString(),c=e.response.statusText);else{const n=e;r=n.name,c=n.message+(n.message==="Network Error"?". Por favor contacte al administrador":"")}!g&&c.length>150&&s<=5e3&&(s=8e3),!g&&c.length>300&&s<=8e3&&(s=1e4),t!==void 0&&(r=t+": "+r),u.create({message:r,caption:c,position:a,type:"negative",timeout:s,html:g,actions:[{label:"Ok",color:"white",handler:()=>{}}]})}catch(r){console.log(r,e)}},A=(e,{subtitulo:s="",timeout:a=2500,position:t="center",tipo:o="positive",color:p="",showBadge:i=!0}={})=>{try{t.toString().trim()===""&&(t="center");let l=!1;e.includes("<!DOCTYPE html>")&&(l=!0);let d;i||(d="opacity: 0"),u.create({type:o,color:p===""?o:p,message:e,caption:s,position:t,timeout:a,html:l,badgeStyle:d,actions:[{label:"Ok",color:"white",handler:()=>{}}]})}catch(l){console.log(l)}},_=(e="",s="",{onPressOk:a=void 0,onPressCancel:t=void 0})=>new Promise((o,p)=>{let i=!0;t===null&&(i=!1),b.create({title:e,message:s,persistent:!0,ok:{push:!0,label:"Aceptar"},cancel:i?{push:!1,color:"negative",label:"Cancelar"}:!1}).onOk(()=>{a!==void 0&&a(),o(!0)}).onCancel(()=>{t!==void 0&&t(),o(!1)}).onDismiss(()=>{})}),f=m.create({baseURL:"https://backend-conta.onrender.com/"});f.interceptors.request.use(e=>(e.headers["Accept-Language"]="es;q=1.0,en;q=0.9",e));f.interceptors.response.use(e=>e,e=>{throw S(e),y.hide(),new Error(e)});var P=w(({app:e})=>{e.config.globalProperties.$axios=m,e.config.globalProperties.$api=f}),$=Object.freeze(Object.defineProperty({__proto__:null,default:P,api:f},Symbol.toStringTag,{value:"Module"}));export{f as a,_ as b,$ as c,A as s};


