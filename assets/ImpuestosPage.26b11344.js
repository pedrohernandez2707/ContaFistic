import{a as m,Q as f}from"./QBreadcrumbs.9d3bd4a9.js";import{_ as b,d as g,g as p,o as v,aE as h,w as a,a as i,e as o,i as y,aH as F,j as d,f as l,k as Q,Q as q}from"./index.b32bed5e.js";import{Q as I}from"./QForm.9e7ebf68.js";import{Q as w}from"./QPage.fc1edd5b.js";import{Q as V}from"./QSpinnerBall.ad71d8c1.js";import{a as c,s as B}from"./axios.b40a6d52.js";const C=g({setup(){const e=p({id:0,impuesto_iva:0,impuesto_peque\u00F1o_contribuyente:0}),t=p([]),n=()=>{i.show({message:"Cargando configuraci\xF3n"}),c.get("/impuestos").then(u=>{if(t.value=u.data,t.value.length>0){const s=t.value[0];e.value={id:s.id,impuesto_iva:parseFloat(s.impuesto_iva),impuesto_peque\u00F1o_contribuyente:parseFloat(s.impuesto_pequeno_contribuyente)}}else e.value={id:0,impuesto_iva:0,impuesto_peque\u00F1o_contribuyente:0};i.hide()})};return{form:e,guardarImpuesto:async()=>{i.show({message:"Guardando...",spinner:V});const u={_id:null,_impuesto_iva:e.value.impuesto_iva,_impuesto_peque\u00F1o_contribuyente:e.value.impuesto_peque\u00F1o_contribuyente,_us_crea:"usrtest"};await c.post("/impuestos",u).then(s=>{B("Registro guardado correctamente.",{})}),i.hide(),n()},getImpuestos:n}},mounted(){this.getImpuestos()}}),x={class:"row"},S=l("div",{class:"col-12"},null,-1),P={class:"col-12 text-center"};function $(e,t,n,_,u,s){return v(),h(w,{padding:""},{default:a(()=>[o(f,null,{default:a(()=>[o(m,{label:"Sistema",icon:"home"}),o(m,{label:"Configuraci\xF3n",icon:"settings"}),o(m,{label:"Gesti\xF3n de Impuestos",icon:"info"})]),_:1}),o(q,{class:"q-mt-md"},{default:a(()=>[o(y,null,{default:a(()=>[o(I,{onSubmit:F(e.guardarImpuesto,["prevent"]),class:"q-gutter-md"},{default:a(()=>[o(d,{modelValue:e.form.impuesto_iva,"onUpdate:modelValue":t[0]||(t[0]=r=>e.form.impuesto_iva=r),modelModifiers:{number:!0},label:"Impuesto IVA (%)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),o(d,{modelValue:e.form.impuesto_peque\u00F1o_contribuyente,"onUpdate:modelValue":t[1]||(t[1]=r=>e.form.impuesto_peque\u00F1o_contribuyente=r),modelModifiers:{number:!0},label:"Impuesto Peque\xF1o Contribuyente (%)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),l("div",x,[S,l("div",P,[o(Q,{type:"submit",label:"Guardar",color:"primary",push:"",class:"btn-fixed-width"})])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var U=b(C,[["render",$]]);export{U as default};
