import{a as X,Q as xe}from"./QBreadcrumbs.9dce50f8.js";import{d as ge,g as d,_ as he,P as k,o as Ce,aF as _e,w as t,e as a,l as F,i as ee,j as T,C as ae,aG as ne,aH as E,Q as oe,aM as Je,bp as we,bq as Ve,f as i,q as ie,r as qe,a as J,bl as de,ba as Oe,x as q,aq as ue}from"./index.b7a0f49f.js";import{h as O}from"./QSelect.af203fe3.js";import{r as Le,u as Ye,Q as ce,a as pe,b as je}from"./xlsx.dca9f824.js";import{Q as me,C as fe}from"./ClosePopup.559b274b.js";import{Q as Se,a as b}from"./QTable.ecc9fb65.js";import{Q as Z}from"./QTr.42f3208e.js";import{Q as Ge}from"./QPage.276c235c.js";import{s as g,a as A,b as Re,c as ve}from"./axios.fc123eb4.js";import{Q as He,a as We}from"./QBar.360f72e1.js";import"./selection.826139a0.js";import"./use-render-cache.3aae9b27.js";import"./QList.ded89f79.js";const Ke=ge({name:"BuscadorCompras",emits:["compra-seleccionada"],setup(e,{emit:n}){const w=d(null),_=d(!1),V=d(""),P=[{name:"empresa",label:"Empresa",align:"left",field:"nombre_empresa",sortable:!0},{name:"compra",label:"Compra",align:"left",field:"id_compra",sortable:!0},{name:"poliza",label:"Poliza",align:"left",field:"id_poliza",sortable:!0},{name:"descripcion",label:"Descripci\xF3n",align:"left",field:"descripcion",sortable:!0}],c=d([]),o=d([...c.value]),f=()=>{V.value===null?o.value=c.value:o.value=c.value.filter(h=>h.id_compra.toLowerCase().includes(V.value)||h.descripcion||h.nombre_empresa||h.id_poliza.toLowerCase().includes(V.value.toLowerCase()))},L=(h,I)=>{_.value=!1,n("compra-seleccionada",I.id_compra)},U=()=>{_.value=!1},Y=async()=>{var h;_.value=!0,await new Promise(I=>setTimeout(I,250)),(h=w.value)==null||h.focus(),j()},j=()=>{let h=JSON.parse(k.getItem("empresa").toString());if(!h.id){g("Debe Seleccionar la Empresa",{tipo:"negative"});return}let I=k.getItem("periodo");if(!I){g("Debe Seleccionar el Periodo para la Empresa Correspondiente",{tipo:"negative"});return}A.get("compras",{params:{id_empresa:h.id,id_periodo:I}}).then(N=>{c.value=N.data,o.value=N.data})};return{refInputBuscar:w,dialogVisible:_,searchQuery:V,columns:P,compras:c,filteredCompras:o,filtrarCompras:f,seleccionarCompra:L,cerrarDialogo:U,abrirDialogo:Y}}}),Xe=e=>(we("data-v-1e58e010"),e=e(),Ve(),e),Ze=Xe(()=>i("div",{class:"text-h6"},"Buscador",-1));function ea(e,n,w,_,V,P){return Ce(),_e(Je,{modelValue:e.dialogVisible,"onUpdate:modelValue":n[1]||(n[1]=c=>e.dialogVisible=c),persistent:""},{default:t(()=>[a(oe,{style:{"min-width":"650px"}},{default:t(()=>[a(He,null,{default:t(()=>[Ze,a(We),a(F,{dense:"",flat:"",icon:"close",onClick:e.cerrarDialogo},null,8,["onClick"])]),_:1}),a(ee,null,{default:t(()=>[a(T,{modelValue:e.searchQuery,"onUpdate:modelValue":[n[0]||(n[0]=c=>e.searchQuery=c),e.filtrarCompras],ref:"refInputBuscar",label:"Buscar Libro Compras",dense:"",outlined:"",clearable:"",debounce:"350"},{append:t(()=>[a(ae,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),a(Se,{rows:e.filteredCompras,columns:e.columns,"row-key":"correlativo",style:{height:"400px"},flat:"",bordered:"","virtual-scroll":"",separator:"cell","rows-per-page-options":[0],class:"my-sticky-header-table",onRowDblclick:e.seleccionarCompra,dense:""},{"body-cell-correlativo":t(c=>[a(b,{props:c},{default:t(()=>[ne(E(c.row.correlativo),1)]),_:2},1032,["props"])]),"body-cell-nombre":t(c=>[a(b,{props:c},{default:t(()=>[ne(E(c.row.nombre),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns","onRowDblclick"])]),_:1})]),_:1},8,["modelValue"])}var aa=he(Ke,[["render",ea],["__scopeId","data-v-1e58e010"]]);const le=new Date;le.setHours(0,-le.getTimezoneOffset(),0,0);let be=le.toJSON().slice(0,10).replaceAll("-","/");const oa=ge({components:{BuscadorCompras:aa},setup(){const e=d(null),n=()=>{var s;(s=e.value)==null||s.abrirDialogo()},w=d([]),_=d([]),V=d(null),P=d(""),c=d(!1),o=d(""),f=d(null),L=d(null),U=d(0),Y=()=>{const s=k.getItem("empresa");if(s){const l=JSON.parse(s.toString());U.value=l.id}else{alert("Debe seleccionar una empresa");return}f.value=null,A.get("/cuentasn4/combo",{params:{id_empresa:U.value}}).then(l=>{w.value=l.data})},j=(s,l)=>{if(s===""){l(()=>{_.value=[...w.value]});return}const p=s.toLowerCase();l(()=>{_.value=w.value.filter(m=>m.descripcion.toLowerCase().includes(p))})},h=(s,l)=>{if(s===""){l(()=>{_.value=w.value});return}l(()=>{const p=s.toLowerCase();_.value=w.value.filter(m=>isNaN(p)?m.descripcion.toLowerCase().includes(p.toLowerCase()):m.descripcion.toLowerCase().startsWith(p.toString()))},p=>{s!==""&&p.options.length>0&&(p.setOptionIndex(-1),p.moveOptionSelection(1,!0))})},I=d(null),N=d(null),G=d(!1),ye=d([{id:1,nombre:"2024"}]),Fe=d([{id:1,nombre:"Enero"},{id:2,nombre:"Febrero"},{id:3,nombre:"Marzo"},{id:4,nombre:"Abril"},{id:5,nombre:"Mayo"},{id:6,nombre:"Junio"},{id:7,nombre:"Julio"},{id:8,nombre:"Agosto"},{id:9,nombre:"Septiembre"},{id:10,nombre:"Octubre"},{id:11,nombre:"Noviembre"},{id:12,nombre:"Diciembre"}]),S=d(null),Ie=d([]),Ne=d(!1),R=d(be),H=d(be),C=d([{}]),De=[{name:"Doc",label:"Doc. No",field:"documento",align:"left"},{name:"Serie",label:"Serie",field:"serie",align:"left"},{name:"Fecha",label:"Fecha",field:"fecha",align:"left",sortable:!0,style:"min-width:120px;width:120px"},{name:"Tipo",label:"Tipo",field:"tipo",align:"left",style:"min-width:120px;max-width:120px;width:120px;"},{name:"Proveedor",label:"Proveedor",field:"proveedor",align:"left",style:"width: auto;min-width:125px;"},{name:"NIT",label:"NIT",field:"nit",align:"left",style:"min-width:100px;width:100px"},{name:"Cta",label:"Cta",field:"Cta",align:"left",style:"max-width:150px;width:150px"},{name:"check",label:"Factura Pagada",field:"checked",align:"center",style:"width: 60px;max-width:60px;"},{name:"Compras",label:"Compras",field:"compras",align:"left"},{name:"Servicios",label:"Servicios",field:"servicios",align:"left"},{name:"Exentos",label:"Exentos",field:"exentos",align:"left"},{name:"SubTotal",label:"SubTotal",field:"subtotal",align:"left"},{name:"Iva",label:"Iva",field:"iva",align:"left"},{name:"acciones",label:"",field:"",align:"right",style:"width: 40px; padding:5px"}],ke=s=>s.every(l=>l.Cta!==null),Te=async()=>{let s=!1;const l=JSON.parse(k.getItem("empresa").toString());let p=0;if(l)p=l.id;else{g("Debe Seleccionar Empresa",{tipo:"negative"}),s=!0;return}const m=N.value;if(!m){g("Debe Seleccionar el Mes",{tipo:"negative"}),s=!0;return}const r=V.value;if(!r){g("Debe Seleccionar la Cuenta Contable Para el Encabezado",{tipo:"negative"}),s=!0;return}if(C.value.length==0){g("Debe Ingresar al Menos un Detalle",{tipo:"negative"}),s=!0;return}if(!ke(C.value)){g("Debe Indicar la cuenta contable para cada uno de los Detalles, verificar",{tipo:"negative"}),s=!0;return}let D=k.getItem("periodo");if(!D){g("Debe Seleccionar el Periodo para la Empresa Correspondiente",{tipo:"negative"}),s=!0;return}if(!s){let y=f.value;if(!await Re("Confirmaci\xF3n","Esta seguro de "+(y!==null?"Actualizar la Compra: "+y:"Ingresar la Compra?"),{}))return;const $=C.value.map(u=>({Cta:u.Cta,documento:u.documento,serie:u.serie,fecha:u.fecha,tipo:u.tipo,proveedor:u.proveedor,nit:u.nit,compras:u.compras,servicios:u.servicios,exentos:u.exentos,valor:u.valor,iva:u.iva,total:(isNaN(parseFloat(u.servicios))?0:parseFloat(u.servicios))+(isNaN(parseFloat(u.compras))?0:parseFloat(u.compras))}));if(console.log("\u{1F680} ~ comprasdet ~ comprasdet:",$),f.value!=null){const u={_encabezado:[{_id_compra:f.value,_id_cuenta_contable:r&&r.id?r.id:r,_usuario_ingresa:"usrtest",_estado:"A",_p_id_poliza:o.value,_mes:N.value}],_detalle:$};J.show(),await A.put("/compras",u).then(Q=>{console.log(Q.data),Q.data.fn_insertar_compras_json,g("Compra actualizada correctamente, Partida Actualizada",{}),G.value=!0}).finally(()=>{J.hide()})}else{const u={_encabezado:[{_id_Empresa:p,_mes:(m==null?void 0:m.id)||0,_periodo:D,_id_poliza:0,_id_cuenta_contable:r.id,_usuario_ingresa:"usrtest",_estado:"A"}],_detalle:$};J.show(),await A.post("/compras",u).then(Q=>{const K=Q.data.fn_insertar_compras_json,[z,v]=K.replace(/[()]/g,"").split(","),x=parseInt(z);v.replace(/"/g,""),g(`Compra guardada correctamente No.${z} Partida Generada ${v}`,{}),f.value=x.toString(),o.value=v.toString(),c.value=!0,G.value=!0}).finally(()=>{J.hide()})}}},Ee=async()=>{var s,l;if(S.value){const p=(l=(s=N.value)==null?void 0:s.id)!=null?l:null;let m=JSON.parse(k.getItem("empresa").toString());if(!m){g("Debe Seleccionar la Empresa",{tipo:"negative"}),S.value=null;return}if(!p){g("Debe Seleccionar el Mes",{tipo:"negative"}),S.value=null;return}let r=k.getItem("periodo");if(!r){g("Debe Seleccionar el Periodo para la Empresa Correspondiente",{tipo:"negative"}),S.value=null;return}const D=await S.value.arrayBuffer();let y=!1;const M=Le(D),$=M.Sheets[M.SheetNames[0]],u=Ye.sheet_to_json($);let Q=m?m.nit:"";const K=u.filter(v=>{const x=se(v["Fecha de emisi\xF3n"]).toString(),Be=parseInt(x.split("-")[1]),ze=parseInt(x.split("-")[0]);return Q===v["NIT del emisor"]?(g("Existen documentos con el mismo NIT de la empresa seleccionada, verifique si no est\xE1 intentando cargar un archivo de ventas!",{tipo:"negative",timeout:8500,progress:!0}),S.value=null,y=!0,!1):Be!==p?(g("Existen documentos con una fecha que no corresponde al mes seleccionado. Verifique el archivo.",{tipo:"negative",timeout:8500,progress:!0}),y=!0,S.value=null,!1):ze!==r?(g("Existen documentos con una fecha que no corresponde al periodo seleccionado. Verifique el archivo.",{tipo:"negative",timeout:8500,progress:!0}),y=!0,S.value=null,!1):!0});if(y)return;const z=K.map(v=>({documento:v["N\xFAmero del DTE"],serie:v.Serie,fecha:se(v["Fecha de emisi\xF3n"]),tipo:v["Tipo de DTE (nombre)"],proveedor:v["Nombre completo del emisor"],nit:v["NIT del emisor"],compras:v["Monto (Gran Total)"],subtotal:(v["Monto (Gran Total)"]-v["IVA (monto de este impuesto)"]).toFixed(2),iva:v["IVA (monto de este impuesto)"],Cta:null,checked:!1}));C.value=z}return 0},W=d("eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJBZ2VuY2lhVmlydHVhbERURSIsImlzcyI6IlNBVCIsIm5pdCI6IjEwNDkwOTUwMSIsImV4cCI6MTcyNTY0MTk1MywiaWF0IjoxNzI1NTk4NzUzfQ.2KE72Se31MWfXb3hVNJhluyAh2Fn6Vw-puz7UwbPoTk"),Qe=()=>{const s=ve.create();W.value===""&&(console.log("Hacer login sat"),s.get("http://localhost:5000/get-token").then(l=>{console.log(l.data),W.value=l.data}).catch(l=>console.error("Error:",l)))};function se(s){const l=new Date(s),p=l.getFullYear(),m=String(l.getMonth()+1).padStart(2,"0"),r=String(l.getDate()).padStart(2,"0"),D=String(l.getHours()).padStart(2,"0"),y=String(l.getMinutes()).padStart(2,"0"),M=String(l.getSeconds()).padStart(2,"0");return`${p}-${m}-${r} ${D}:${y}:${M}`}const B=s=>{const[l,p,m]=s.split("/").map(Number),r=m.toString().padStart(2,"0"),D=p.toString().padStart(2,"0");return`${r}-${D}-${l}`},Pe=()=>{const s=ve.create();console.log(B(R.value),B(H.value)),s.get("http://localhost:5000/get-fact",{headers:{Authorization:W.value},params:{nit:"104909501",fechai:B(R.value),fechaf:B(H.value),tipo:"R"}}).then(l=>{const m=l.data.data.map(r=>({documento:r.numeroDocumento,serie:r.serie,fecha:r.fechaEmision,tipo:r.tipo,proveedor:r.nombreEmisor,nit:r.nitEmisor,total:r.granTotal,iva:r.totalIva}));C.value=m}).catch(l=>console.error("Error:",l))},Ue=s=>{C.value=C.value.filter(l=>l.documento!==s)},Me=()=>{C.value.push({documento:C.value.length+1})},$e=ie(()=>C.value.reduce((s,l)=>s+parseFloat(l.total||0),0).toFixed(2)),Ae=ie(()=>C.value.reduce((s,l)=>s+parseFloat(l.iva||0),0).toFixed(2));function re(s){const l=s.replace(/[\$,]/g,"");return parseFloat(l)}return{cuentasFilter:_,onBuscarCompra:s=>{A.get("compras/idCompra",{params:{id_compra:s}}).then(l=>{console.log(l.data),f.value=s,N.value=l.data.enc.mes,L.value=l.data.enc.id_periodo,V.value=l.data.enc.id_cuenta_contable,o.value=l.data.enc.id_poliza,c.value=!0;let m=l.data.det.map(r=>({id:1,Cta:{id:r.id_cuenta,nombre:r.nombre,correlativo:r.correlativo,descripcion:r.correlativo+" "+r.nombre},documento:r.doc_no,serie:r.serie,fecha:r.fecha,tipo:r.tipo_documento,proveedor:r.proveedor,nit:r.nit_cedula,checked:!1,Importacion:r.importaciones,Servicios:r.servicios,Exentos:r.exentos,Valor:r.valor,total:re(r.total),iva:re(r.iva)}));C.value=m})},file:S,parsedCSV:Ie,visibleDate:Ne,fechai:R,fechaf:H,convert:Ee,columns:De,compras:C,getdata:Qe,getFacturas:Pe,eliminarFila:Ue,agregarFila:Me,calculoTotal:$e,calculoIva:Ae,onClick:Te,selectedCuentaEnc:V,cuentasn4:w,filterCuenta:h,getCuentasN4:Y,cantFacturas:P,txtNoPartida:o,checkPartidaGenerada:c,txtNoCompra:f,mesesDelA\u00F1o:Fe,periodoModel:I,mesesModel:N,periodos:ye,disableBTN:G,showBuscarCompra:n,refBuscadorCompra:e,filterCuentas:j,idEmpresa:U}},mounted(){const e=k.getItem("empresa");if(!e)alert("Debe seleccionar una empresa antes de acceder a esta p\xE1gina."),this.$router.push("/");else{const n=JSON.parse(e.toString());this.idEmpresa=n.id,this.getCuentasN4(),this.getdata()}}}),te=e=>(we("data-v-0d669e58"),e=e(),Ve(),e),la={class:"row q-col-gutter-sm"},ta={class:"col-4"},sa={class:"col-4"},ra={class:"col-1"},na={class:"col-4"},ia={class:"col-2"},da={class:"col-2 text-center"},ua={class:"col-3"},ca={class:"col-12"},pa={class:"col-12"},ma={class:"row q-col-gutter-sm"},fa={class:"col-5"},va={class:"row items-center justify-end"},ba={class:"col-5"},ga={class:"row items-center justify-end"},ha={class:"col-2"},Ca={class:"col-12"},_a={class:"row q-ma-sm"},wa=te(()=>i("div",{class:"col-9"},[i("div",{class:"text-h6"},"Detalle de Compras")],-1)),Va=te(()=>i("div",{class:"col-1"},null,-1)),Sa={class:"col"},ya=te(()=>i("strong",null,"Totales:",-1));function Fa(e,n,w,_,V,P){const c=qe("buscador-compras");return Ce(),_e(Ge,{padding:""},{default:t(()=>[a(xe,null,{default:t(()=>[a(X,{label:"Registros Contables",icon:"paid"}),a(X,{label:"Ingreso",icon:"input"}),a(X,{label:"Libro Compras",icon:"shopping_bag"})]),_:1}),a(oe,{class:"q-mt-md"},{default:t(()=>[a(ee,null,{default:t(()=>[i("div",la,[i("div",ta,[a(T,{modelValue:e.txtNoCompra,"onUpdate:modelValue":n[0]||(n[0]=o=>e.txtNoCompra=o),type:"text",label:"No. Interno",outlined:"",dense:"",disable:!0},null,8,["modelValue"])]),i("div",sa,[a(O,{modelValue:e.mesesModel,"onUpdate:modelValue":n[1]||(n[1]=o=>e.mesesModel=o),options:e.mesesDelA\u00F1o,label:"Mes",outlined:"",dense:"","option-value":"id","option-label":"nombre",disable:e.txtNoCompra!=null},null,8,["modelValue","options","disable"])]),i("div",ra,[a(F,{color:"primary",outline:"",icon:"search",onClick:e.showBuscarCompra},null,8,["onClick"])]),i("div",na,[a(O,{modelValue:e.selectedCuentaEnc,"onUpdate:modelValue":n[2]||(n[2]=o=>e.selectedCuentaEnc=o),options:e.cuentasFilter,label:"Cuenta Haber",outlined:"",dense:"","option-value":"id","option-label":"descripcion","use-input":"","input-debounce":"0",onFilter:e.filterCuentas,clearable:""},null,8,["modelValue","options","onFilter"])]),i("div",ia,[a(T,{modelValue:e.cantFacturas,"onUpdate:modelValue":n[3]||(n[3]=o=>e.cantFacturas=o),type:"text",label:"Cant. Facturas",outlined:"",dense:"",disable:!0},null,8,["modelValue"])]),i("div",da,[a(de,{"left-label":"",modelValue:e.checkPartidaGenerada,"onUpdate:modelValue":n[4]||(n[4]=o=>e.checkPartidaGenerada=o),label:"Partida generada",disable:!0},null,8,["modelValue"])]),i("div",ua,[a(T,{modelValue:e.txtNoPartida,"onUpdate:modelValue":n[5]||(n[5]=o=>e.txtNoPartida=o),type:"text",label:"No.Partida",outlined:"",dense:"",disable:!0},null,8,["modelValue"])]),i("div",ca,[a(Oe,{modelValue:e.visibleDate,"onUpdate:modelValue":n[6]||(n[6]=o=>e.visibleDate=o),label:"Consultar SAT"},null,8,["modelValue"])]),i("div",pa,[a(me,null,{default:t(()=>[q(i("div",ma,[i("div",fa,[a(T,{dense:"",outlined:"",modelValue:e.fechai,"onUpdate:modelValue":n[8]||(n[8]=o=>e.fechai=o),mask:"date",rules:["date"],label:"Fecha Inicial","hide-bottom-space":"",placeholder:"YYYY/MM/DD",clearable:""},{append:t(()=>[a(ae,{name:"event",class:"cursor-pointer"},{default:t(()=>[a(ce,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[a(pe,{modelValue:e.fechai,"onUpdate:modelValue":n[7]||(n[7]=o=>e.fechai=o)},{default:t(()=>[i("div",va,[q(a(F,{label:"Cerrar",color:"primary",flat:""},null,512),[[fe]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",ba,[a(T,{dense:"",outlined:"",modelValue:e.fechaf,"onUpdate:modelValue":n[10]||(n[10]=o=>e.fechaf=o),mask:"date",rules:["date"],"hide-bottom-space":"",label:"Fecha Final",placeholder:"YYYY/MM/DD",clearable:""},{append:t(()=>[a(ae,{name:"event",class:"cursor-pointer"},{default:t(()=>[a(ce,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[a(pe,{modelValue:e.fechaf,"onUpdate:modelValue":n[9]||(n[9]=o=>e.fechaf=o)},{default:t(()=>[i("div",ga,[q(a(F,{label:"Cerrar",color:"primary",flat:""},null,512),[[fe]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",ha,[a(F,{color:"primary",label:"Consultar",onClick:e.getFacturas},null,8,["onClick"])])],512),[[ue,e.visibleDate]])]),_:1})]),i("div",Ca,[a(me,null,{default:t(()=>[q(a(je,{modelValue:e.file,"onUpdate:modelValue":[n[11]||(n[11]=o=>e.file=o),e.convert],label:"Seleccione o arraste un archivo para importar(.xls)",outlined:"",accept:".xls",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),[[ue,!e.visibleDate]])]),_:1})])])]),_:1})]),_:1}),a(oe,{class:"q-mt-sm"},{default:t(()=>[a(ee,{class:"q-pt-none"},{default:t(()=>[i("div",_a,[wa,Va,i("div",Sa,[a(F,{color:"primary",icon:"check",label:e.txtNoCompra?"Actualizar Partida":"Generar Partida",onClick:e.onClick,disable:e.disableBTN},null,8,["label","onClick","disable"])])]),a(Se,{style:{height:"500px"},flat:"",bordered:"","virtual-scroll":"",separator:"cell","rows-per-page-options":[0],class:"my-sticky-header-table",rows:e.compras,columns:e.columns,"row-key":"id",dense:""},{"body-cell-Tipo":t(o=>[a(b,{props:o},{default:t(()=>[a(O,{modelValue:o.row.tipo,"onUpdate:modelValue":f=>o.row.tipo=f,options:[{label:"Factura",value:"FACT"},{label:"Cambiaria",value:"FCAM"},{label:"NC",value:"NCRE"}],borderless:"",dense:"","options-dense":"","map-options":"",class:"full-width"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"body-cell":t(o=>[a(b,{props:o},{default:t(()=>[a(T,{modelValue:o.row[o.col.field],"onUpdate:modelValue":f=>o.row[o.col.field]=f,"input-class":"text-right",dense:"",borderless:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"body-cell-Cta":t(o=>[a(b,{props:o},{default:t(()=>[a(O,{modelValue:o.row.Cta,"onUpdate:modelValue":f=>o.row.Cta=f,options:e.cuentasFilter,"option-label":"descripcion","option-value":"id",dense:"",borderless:"","map-options":"","hide-selected":"","hide-bottom-space":"","use-input":"","fill-input":"",clearable:"",onFilter:e.filterCuenta,onFilterAbort:()=>{}},null,8,["modelValue","onUpdate:modelValue","options","onFilter"])]),_:2},1032,["props"])]),"body-cell-check":t(o=>[a(b,{props:o,align:"center"},{default:t(()=>[a(de,{modelValue:o.row.checked,"onUpdate:modelValue":f=>o.row.checked=f,color:"primary",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"body-cell-acciones":t(o=>[a(b,{props:o},{default:t(()=>[a(F,{flat:"",round:"",icon:"delete",color:"negative",onClick:f=>e.eliminarFila(o.row.documento)},null,8,["onClick"])]),_:2},1032,["props"])]),"bottom-row":t(()=>[a(Z,null,{default:t(()=>[a(b,{colspan:"7",class:"text-right"}),a(b,{class:"text-right"},{default:t(()=>[ya]),_:1}),a(b,{class:"text-right"},{default:t(()=>[i("strong",null,E(e.calculoTotal),1)]),_:1}),a(b,{class:"text-right"},{default:t(()=>[i("strong",null,E(e.calculoTotal),1)]),_:1}),a(b,{class:"text-right"},{default:t(()=>[i("strong",null,E(e.calculoTotal),1)]),_:1}),a(b,{class:"text-right"},{default:t(()=>[i("strong",null,E(e.calculoTotal),1)]),_:1}),a(b,{class:"text-right"},{default:t(()=>[i("strong",null,E(e.calculoIva),1)]),_:1})]),_:1})]),bottom:t(o=>[a(Z,{props:o},{default:t(()=>[a(b,{colspan:"100%"},{default:t(()=>[a(F,{flat:"",icon:"add",label:"Agregar Fila",onClick:e.agregarFila},null,8,["onClick"])]),_:1})]),_:2},1032,["props"])]),"no-data":t(o=>[a(Z,{props:o},{default:t(()=>[a(b,{colspan:"100%"},{default:t(()=>[a(F,{flat:"",icon:"add",label:"Agregar Fila",onClick:e.agregarFila},null,8,["onClick"])]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1})]),_:1}),a(c,{ref:"refBuscadorCompra",onCompraSeleccionada:e.onBuscarCompra},null,8,["onCompraSeleccionada"])]),_:1})}var xa=he(oa,[["render",Fa],["__scopeId","data-v-0d669e58"]]);export{xa as default};
