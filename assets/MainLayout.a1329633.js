import{I as $,q as h,y as b,U as F,ac as De,ad as te,ae as Ee,af as Ne,g,J as Me,K as Ue,ag as Fe,ah as je,ai as We,L as B,s as oe,a1 as ge,Z as be,aj as Oe,T as Ge,F as j,z as Ke,ak as Qe,al as Je,am as Xe,t as Le,C as ae,l as I,an as Ze,m as Ve,p as U,ao as Ye,ap as ve,M as xe,aq as et,X as tt,aa as at,ar as ot,as as nt,a9 as lt,at as re,au as Z,av as rt,E as it,_ as st,d as ut,u as dt,P as L,aw as ct,r as ft,o as x,ax as N,w as u,e as d,h as vt,ay as V,az as K,f as Y,x as J,aA as mt,c as ie,aB as se,aC as ue,Q as pt,i as ye,j as ht,aD as gt,aE as bt,aF as yt,aG as we}from"./index.de91045c.js";import{u as wt,v as Se,a as St,p as Ce,b as Ct,c as _t,r as _e,s as Pt,d as Tt,Q as Ae,e as X,f as H,g as qt,h as Pe}from"./QSelect.2ed87d02.js";import{c as Te}from"./selection.4860df2b.js";import{Q as qe}from"./QList.35154e5b.js";import{Q as fe}from"./QResizeObserver.4fed0a9a.js";import{C as ee}from"./ClosePopup.995d2948.js";import{u as kt}from"./use-quasar.1288554d.js";import{a as de,s as Bt}from"./axios.23fd2c5d.js";var Et=$({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:s}){const n=h(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>b("div",{class:n.value},F(s.default))}}),ce=$({name:"QTooltip",inheritAttrs:!1,props:{...wt,...De,...te,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...te.transitionShow,default:"jump-down"},transitionHide:{...te.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Se},self:{type:String,default:"top middle",validator:Se},offset:{type:Array,default:()=>[14,14],validator:St},scrollTarget:Ee,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ne],setup(e,{slots:s,emit:n,attrs:l}){let a,i;const v=j(),{proxy:{$q:o}}=v,f=g(null),c=g(!1),_=h(()=>Ce(e.anchor,o.lang.rtl)),S=h(()=>Ce(e.self,o.lang.rtl)),q=h(()=>e.persistent!==!0),{registerTick:m,removeTick:C}=Me(),{registerTimeout:P}=Ue(),{transitionProps:A,transitionStyle:E}=Fe(e),{localScrollTarget:r,changeScrollEvent:y,unconfigureScrollTarget:t}=Ct(e,pe),{anchorEl:p,canShow:O,anchorEvents:T}=_t({showing:c,configureAnchorEl:$e}),{show:R,hide:z}=je({showing:c,canShow:O,handleShow:Q,handleHide:W,hideOnRouteChange:q,processOnMount:!0});Object.assign(T,{delayShow:ze,delayHide:He});const{showPortal:ne,hidePortal:w,renderPortal:M}=We(v,f,Re,"tooltip");if(o.platform.is.mobile===!0){const k={anchorEl:p,innerRef:f,onClickOutside(D){return z(D),D.target.classList.contains("q-dialog__backdrop")&&Ke(D),!0}},le=h(()=>e.modelValue===null&&e.persistent!==!0&&c.value===!0);B(le,D=>{(D===!0?Tt:_e)(k)}),oe(()=>{_e(k)})}function Q(k){ne(),m(()=>{i=new MutationObserver(()=>G()),i.observe(f.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),G(),pe()}),a===void 0&&(a=B(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,G)),P(()=>{ne(!0),n("show",k)},e.transitionDuration)}function W(k){C(),w(),me(),P(()=>{w(!0),n("hide",k)},e.transitionDuration)}function me(){i!==void 0&&(i.disconnect(),i=void 0),a!==void 0&&(a(),a=void 0),t(),ge(T,"tooltipTemp")}function G(){Pt({targetEl:f.value,offset:e.offset,anchorEl:p.value,anchorOrigin:_.value,selfOrigin:S.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ze(k){if(o.platform.is.mobile===!0){Te(),document.body.classList.add("non-selectable");const le=p.value,D=["touchmove","touchcancel","touchend","click"].map(he=>[le,he,"delayHide","passiveCapture"]);be(T,"tooltipTemp",D)}P(()=>{R(k)},e.delay)}function He(k){o.platform.is.mobile===!0&&(ge(T,"tooltipTemp"),Te(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),P(()=>{z(k)},e.hideDelay)}function $e(){if(e.noParentEvent===!0||p.value===null)return;const k=o.platform.is.mobile===!0?[[p.value,"touchstart","delayShow","passive"]]:[[p.value,"mouseenter","delayShow","passive"],[p.value,"mouseleave","delayHide","passive"]];be(T,"anchor",k)}function pe(){if(p.value!==null||e.scrollTarget!==void 0){r.value=Oe(p.value,e.scrollTarget);const k=e.noParentEvent===!0?G:z;y(r.value,k)}}function Ie(){return c.value===!0?b("div",{...l,ref:f,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,E.value],role:"tooltip"},F(s.default)):null}function Re(){return b(Ge,A.value,Ie)}return oe(me),Object.assign(v.proxy,{updatePosition:G}),M}}),ke=$({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:s}){const n=h(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>b("div",{class:n.value,role:"toolbar"},F(s.default))}}),Ot=$({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:s}){const n=h(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(a=>e[a]===!0).map(a=>`q-btn-group--${a}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:n.value},F(s.default))}});const Qt=Object.keys(Qe);function Lt(e){return Qt.reduce((s,n)=>{const l=e[n];return l!==void 0&&(s[n]=l),s},{})}var Vt=$({name:"QBtnDropdown",props:{...Qe,...te,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:s,emit:n}){const{proxy:l}=j(),a=g(e.modelValue),i=g(null),v=Je(),o=h(()=>{const t={"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":v.value,"aria-label":e.toggleAriaLabel||l.$q.lang.label[a.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(t["aria-disabled"]="true"),t}),f=h(()=>"q-btn-dropdown__arrow"+(a.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),c=h(()=>Xe(e)),_=h(()=>Lt(e));B(()=>e.modelValue,t=>{i.value!==null&&i.value[t?"show":"hide"]()}),B(()=>e.split,y);function S(t){a.value=!0,n("beforeShow",t)}function q(t){n("show",t),n("update:modelValue",!0)}function m(t){a.value=!1,n("beforeHide",t)}function C(t){n("hide",t),n("update:modelValue",!1)}function P(t){n("click",t)}function A(t){Ze(t),y(),n("click",t)}function E(t){i.value!==null&&i.value.toggle(t)}function r(t){i.value!==null&&i.value.show(t)}function y(t){i.value!==null&&i.value.hide(t)}return Object.assign(l,{show:r,hide:y,toggle:E}),Le(()=>{e.modelValue===!0&&r()}),()=>{const t=[b(ae,{class:f.value,name:e.dropdownIcon||l.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&t.push(b(Ae,{ref:i,id:v.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:S,onShow:q,onBeforeHide:m,onHide:C},s.default)),e.split===!1?b(I,{class:"q-btn-dropdown q-btn-dropdown--simple",..._.value,...o.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:P},{default:()=>F(s.label,[]).concat(t),loading:s.loading}):b(Ot,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...c.value,glossy:e.glossy,stretch:e.stretch},()=>[b(I,{class:"q-btn-dropdown--current",..._.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:A},{default:s.label,loading:s.loading}),b(I,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...o.value,...c.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>t)])}}}),xt=$({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:s,emit:n}){const{proxy:{$q:l}}=j(),a=Ve(ve,U);if(a===U)return console.error("QHeader needs to be child of QLayout"),U;const i=g(parseInt(e.heightHint,10)),v=g(!0),o=h(()=>e.reveal===!0||a.view.value.indexOf("H")!==-1||l.platform.is.ios&&a.isContainer.value===!0),f=h(()=>{if(e.modelValue!==!0)return 0;if(o.value===!0)return v.value===!0?i.value:0;const r=i.value-a.scroll.value.position;return r>0?r:0}),c=h(()=>e.modelValue!==!0||o.value===!0&&v.value!==!0),_=h(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),S=h(()=>"q-header q-layout__section--marginal "+(o.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),q=h(()=>{const r=a.rows.value.top,y={};return r[0]==="l"&&a.left.space===!0&&(y[l.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),r[2]==="r"&&a.right.space===!0&&(y[l.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),y});function m(r,y){a.update("header",r,y)}function C(r,y){r.value!==y&&(r.value=y)}function P({height:r}){C(i,r),m("size",r)}function A(r){_.value===!0&&C(v,!0),n("focusin",r)}B(()=>e.modelValue,r=>{m("space",r),C(v,!0),a.animate()}),B(f,r=>{m("offset",r)}),B(()=>e.reveal,r=>{r===!1&&C(v,e.modelValue)}),B(v,r=>{a.animate(),n("reveal",r)}),B(a.scroll,r=>{e.reveal===!0&&C(v,r.direction==="up"||r.position<=e.revealOffset||r.position-r.inflectionPoint<100)});const E={};return a.instances.header=E,e.modelValue===!0&&m("size",i.value),m("space",e.modelValue),m("offset",f.value),oe(()=>{a.instances.header===E&&(a.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const r=Ye(s.default,[]);return e.elevated===!0&&r.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(b(fe,{debounce:0,onResize:P})),b("header",{class:S.value,style:q.value,onFocusin:A},r)}}}),At=$({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:n}}=j(),l=Ve(ve,U);if(l===U)return console.error("QPageContainer needs to be child of QLayout"),U;xe(et,!0);const a=h(()=>{const i={};return l.header.space===!0&&(i.paddingTop=`${l.header.size}px`),l.right.space===!0&&(i[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${l.right.size}px`),l.footer.space===!0&&(i.paddingBottom=`${l.footer.size}px`),l.left.space===!0&&(i[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${l.left.size}px`),i});return()=>b("div",{class:"q-page-container",style:a.value},F(s.default))}});const{passive:Be}=at,zt=["both","horizontal","vertical"];var Ht=$({name:"QScrollObserver",props:{axis:{type:String,validator:e=>zt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Ee},emits:["scroll"],setup(e,{emit:s}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let l=null,a,i;B(()=>e.scrollTarget,()=>{f(),o()});function v(){l!==null&&l();const S=Math.max(0,ot(a)),q=nt(a),m={top:S-n.position.top,left:q-n.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const C=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";n.position={top:S,left:q},n.directionChanged=n.direction!==C,n.delta=m,n.directionChanged===!0&&(n.direction=C,n.inflectionPoint=n.position),s("scroll",{...n})}function o(){a=Oe(i,e.scrollTarget),a.addEventListener("scroll",c,Be),c(!0)}function f(){a!==void 0&&(a.removeEventListener("scroll",c,Be),a=void 0)}function c(S){if(S===!0||e.debounce===0||e.debounce==="0")v();else if(l===null){const[q,m]=e.debounce?[setTimeout(v,e.debounce),clearTimeout]:[requestAnimationFrame(v),cancelAnimationFrame];l=()=>{m(q),l=null}}}const{proxy:_}=j();return B(()=>_.$q.lang.rtl,v),Le(()=>{i=_.$el.parentNode,o()}),oe(()=>{l!==null&&l(),f()}),Object.assign(_,{trigger:c,getPosition:()=>n}),tt}}),$t=$({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:n}){const{proxy:{$q:l}}=j(),a=g(null),i=g(l.screen.height),v=g(e.container===!0?0:l.screen.width),o=g({position:0,direction:"down",inflectionPoint:0}),f=g(0),c=g(lt.value===!0?0:re()),_=h(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),S=h(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),q=h(()=>c.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),m=h(()=>c.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function C(t){if(e.container===!0||document.qScrollPrevented!==!0){const p={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};o.value=p,e.onScroll!==void 0&&n("scroll",p)}}function P(t){const{height:p,width:O}=t;let T=!1;i.value!==p&&(T=!0,i.value=p,e.onScrollHeight!==void 0&&n("scrollHeight",p),E()),v.value!==O&&(T=!0,v.value=O),T===!0&&e.onResize!==void 0&&n("resize",t)}function A({height:t}){f.value!==t&&(f.value=t,E())}function E(){if(e.container===!0){const t=i.value>f.value?re():0;c.value!==t&&(c.value=t)}}let r=null;const y={instances:{},view:h(()=>e.view),isContainer:h(()=>e.container),rootRef:a,height:i,containerHeight:f,scrollbarWidth:c,totalWidth:h(()=>v.value+c.value),rows:h(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:Z({size:0,offset:0,space:!1}),right:Z({size:300,offset:0,space:!1}),footer:Z({size:0,offset:0,space:!1}),left:Z({size:300,offset:0,space:!1}),scroll:o,animate(){r!==null?clearTimeout(r):document.body.classList.add("q-body--layout-animate"),r=setTimeout(()=>{r=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,p,O){y[t][p]=O}};if(xe(ve,y),re()>0){let O=function(){t=null,p.classList.remove("hide-scrollbar")},T=function(){if(t===null){if(p.scrollHeight>l.screen.height)return;p.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(O,300)},R=function(z){t!==null&&z==="remove"&&(clearTimeout(t),O()),window[`${z}EventListener`]("resize",T)},t=null;const p=document.body;B(()=>e.container!==!0?"add":"remove",R),e.container!==!0&&R("add"),rt(()=>{R("remove")})}return()=>{const t=it(s.default,[b(Ht,{onScroll:C}),b(fe,{onResize:P})]),p=b("div",{class:_.value,style:S.value,ref:e.container===!0?void 0:a,tabindex:-1},t);return e.container===!0?b("div",{class:"q-layout-container overflow-hidden",ref:a},[b(fe,{onResize:A}),b("div",{class:"absolute-full",style:q.value},[b("div",{class:"scroll",style:m.value},[p])])]):p}}});const It=ut({name:"MainLayout",components:{},setup(e){const s=kt(),n=dt(),l=g(!1),a=g(null),i=g([]),v=g([]),o=g(),f=g([]),c=g(null),_=g(!1),S=g(null),q=L.getItem("user"),m=async()=>{await de.get("/empresas").then(w=>{i.value=w.data})},C=h(()=>"https://pedrohernandez2707.github.io/ContaFistic/#/"),P=()=>{o.value&&(c.value=null,de.get("/periodos/abiertos/"+o.value.id).then(w=>{f.value=w.data}))},A=g([{icon:"display_settings",label:"Sistema",route:"/",open:!0,submenu:[{icon:"home",label:"Inicio",route:"https://pedrohernandez2707.github.io/ContaFistic/#/"},{icon:"account_box",label:"Contadores",route:"/contadores"},{icon:"diversity_3",label:"Contribuyentes",route:"/contribuyentes"},{icon:"apartment",label:"Empresas",route:"/empresas"},{icon:"format_list_numbered",label:"Nomenclatura Cuentas",route:"/",submenu:[{icon:"looks_one",label:"Nivel 1",route:"/cuentasn1"},{icon:"looks_two",label:"Nivel 2",route:"/cuentasn2"},{icon:"looks_3",label:"Nivel 3",route:"/cuentasn3"},{icon:"looks_4",label:"Nivel 4",route:"/cuentasn4"}]},{icon:"info",label:"Iva",route:"/impuestos"},{icon:"local_gas_station",label:"IDP/INGUAT",route:"/idp"},{icon:"add_reaction",label:"Usuarios",route:"/usuarios"}]},{icon:"paid",label:"Registros contables",route:"/",open:!0,submenu:[{icon:"history_edu",label:"Partidas Manuales",route:"/partidasmanuales"},{icon:"shopping_bag",label:"Libro de Compras",route:"/compras"},{icon:"sell",label:"Libro de Ventas",route:"/ventas"}]},{icon:"query_stats",label:"Consultas y reportes",route:"/",open:!0,submenu:[{icon:"assessment",label:"Reportes",route:"/reportes"},{icon:"format_list_numbered_rtl",label:"Cuentas por Nivel",route:"/cuentasxnivel"},{icon:"business",label:"Listado de Empresas",route:"/listadoempresas"}]}]),E=()=>{if(z()){alert("Para cambiar de empresa, por favor regrese al inicio.");return}c.value=null;const w=o.value.id;P(),L.removeItem("empresa"),L.removeItem("periodo"),L.setItem("empresa",JSON.stringify({id:w,nombre_empresa:o.value.nombre_empresa,nit:o.value.nit,distVentas:o.value.distribucion,id_cuenta:o.value.id_cuenta_distribucion,correlativo_dist:o.value.correlativo_distribucion,desc_cuenta:o.value.desc_cuenta_distribucion,idcontribuyente:o.value.idcontribuyente})),T.value+=1},r=()=>{L.setItem("periodo",c.value),T.value+=1},y=()=>{L.clear(),n.replace("/Login")},t=()=>{a.value&&(a.value.focus(),a.value.showPopup())},p=()=>{o.value||(s.notify({message:"Recuerde seleccionar la empresa y el periodo a trabajar",position:"center",color:"primary",icon:"warning"}),t())},O=async()=>{if(S.value&&S.value!==""){const w={p_idempresa:o.value.id,p_periodo:parseInt(S.value)};await de.post("periodos",w).then(M=>{Bt("Periodo creado correctamente!")}),S.value=null,P()}},T=g(0),R=async()=>{if(await m(),L.getItem("empresa")){let w=JSON.parse(L.getItem("empresa").toString());if(w!==null){let Q=i.value.find(W=>W.id===w.id);o.value=Q,await P()}if(L.getItem("periodo")!==null){let Q=L.getItem("periodo").toString();c.value=parseInt(Q)}}L.getItem("token")===null&&y()},z=()=>{if(n.currentRoute.value.path.toUpperCase()==="/PARTIDASMANUALES"||n.currentRoute.value.path.toUpperCase()==="/COMPRAS"||n.currentRoute.value.path.toUpperCase()==="/VENTAS")return!0};return{navigateTo:w=>{n.push(w)},homeUrl:C,q:s,menuItems:A,leftDrawerOpen:l,refEmpresa:a,empresasOriginal:i,empresas:v,empresa:o,periodo:c,periodos:f,showNuevoPeriodo:_,nuevoPeriodo:S,usuario:q,componenteHijoKey:T,focusAndOpenSelect:t,salir:y,getEmpresas:m,getPeriodos:P,selectEmpresa:E,selectPeriodo:r,validarEmpresa:p,guardarPeriodo:O,validarSiEmpresa:R,validarDisableRutaEmpresa:z,toggleLeftDrawer(){l.value=!l.value},filterEmpresa(w,M){if(w===""){M(()=>{v.value=i.value});return}M(()=>{const Q=w.toLowerCase();v.value=i.value.filter(W=>W.nombre_empresa.toLowerCase().indexOf(Q)>-1)},Q=>{w!==""&&Q.options.length>0&&(Q.setOptionIndex(-1),Q.moveOptionSelection(1,!0))})}}},beforeUpdate(){this.validarEmpresa()},async beforeMount(){await this.validarSiEmpresa()},mounted(){ct("ctrl+e",e=>{e!==void 0&&e.preventDefault(),this.focusAndOpenSelect()})}}),Rt={class:"row"},Dt={class:"text-subtitle1"},Nt={class:"text-yellow"};function Mt(e,s,n,l,a,i){const v=ft("router-view");return x(),N($t,{view:"lHh Lpr lFf"},{default:u(()=>[d(xt,{elevated:""},{default:u(()=>[d(ke,null,{default:u(()=>[d(X,{class:"q-ma-none",clickable:"",href:e.homeUrl},{default:u(()=>[d(H,{top:"",avatar:""},{default:u(()=>[d(vt,{size:"md",color:"primary","text-color":"white",icon:"account_balance"})]),_:1}),d(H,null,{default:u(()=>[d(qt,{class:"text-h7"},{default:u(()=>[V(" CONTA-FISTIC ")]),_:1})]),_:1})]),_:1},8,["href"]),d(Et,{class:"text-bold text-uppercase",style:{"text-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)",color:"#ffd700"}},{default:u(()=>[V(K(e.empresa?e.empresa.nombre_empresa:""),1)]),_:1}),Y("div",Rt,[d(I,{color:"primary",icon:"change_circle",onClick:s[0]||(s[0]=o=>e.focusAndOpenSelect()),dense:"",class:"q-ma-sm"},{default:u(()=>[d(ce,{class:"bg-accent text-body2",offset:[10,10]},{default:u(()=>[V(K(e.validarDisableRutaEmpresa()?"Cambiar de empresa (Ctrl+E)":"Regrese al inicio para cambiar de empresa"),1)]),_:1}),V(" Empresa ")]),_:1}),J(Y("div",null,[d(Pe,{ref:"refEmpresa",standout:"",modelValue:e.empresa,"onUpdate:modelValue":[s[1]||(s[1]=o=>e.empresa=o),e.selectEmpresa],"use-input":"","hide-selected":"","fill-input":"",clereable:"","input-debounce":"1",label:"Cambiar de empresa",options:e.empresas,style:{width:"250px"},class:"buscador-empresa","label-color":"white",color:"yellow","map-options":"","option-label":"nombre_empresa","option-value":"id","options-dense":!0,onFilter:e.filterEmpresa,onFilterAbort:()=>{},behavior:"dialog","transition-show":"flip-up","transition-hide":"flip-down",disable:e.validarDisableRutaEmpresa()},{"no-option":u(()=>[d(X,null,{default:u(()=>[d(H,{class:"text-grey"},{default:u(()=>[V(" No se encontro ninguna empresa ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue","disable"])],512),[[yt,!1]]),d(Pe,{class:"q-ma-xs",standout:"",modelValue:e.periodo,"onUpdate:modelValue":[s[3]||(s[3]=o=>e.periodo=o),e.selectPeriodo],dense:"","input-debounce":"0",label:"Periodo",options:e.periodos,style:{width:"150px"},"label-color":"black","options-dense":"","map-options":"","emit-value":"","option-label":"periodo","option-value":"periodo",disable:!e.empresa},{"no-option":u(()=>[d(X,null,{default:u(()=>[d(H,{class:"text-grey"},{default:u(()=>[V(" Sin resultados ")]),_:1})]),_:1})]),after:u(()=>[d(I,{round:"",dense:"",flat:"",icon:"add",onClick:s[2]||(s[2]=mt(o=>e.showNuevoPeriodo=!0,["stop","prevent"]))},{default:u(()=>[d(ce,{anchor:"center left",self:"center right",class:"bg-accent text-caption"},{default:u(()=>[V(" Crear nuevo periodo ")]),_:1})]),_:1}),d(I,{flat:"",dense:"",round:"",icon:"logout","aria-label":"Logout",onClick:e.salir,size:"sm"},{default:u(()=>[d(ce,{anchor:"center left",self:"center right",class:"bg-accent text-caption"},{default:u(()=>[V(" Salir ")]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","options","disable","onUpdate:modelValue"])])]),_:1}),d(ke,{class:"text-white",style:{"background-color":"#283748"}},{default:u(()=>[(x(!0),ie(ue,null,se(e.menuItems,o=>(x(),N(Vt,{key:o.label,flat:"",label:o.label,icon:o.icon},{default:u(()=>[d(qe,null,{default:u(()=>[(x(!0),ie(ue,null,se(o.submenu,f=>J((x(),N(X,{key:f.label,clickable:"",onClick:c=>f.submenu?null:e.navigateTo(f.route)},{default:u(()=>[d(H,{avatar:""},{default:u(()=>[d(ae,{name:f.icon},null,8,["name"])]),_:2},1024),d(H,null,{default:u(()=>[V(K(f.label),1)]),_:2},1024),f.submenu?(x(),N(H,{key:0,side:""},{default:u(()=>[d(ae,{name:"keyboard_arrow_right"})]),_:1})):we("",!0),f.submenu?(x(),N(Ae,{key:1,anchor:"top end",self:"top start"},{default:u(()=>[d(qe,{dense:""},{default:u(()=>[(x(!0),ie(ue,null,se(f.submenu,c=>J((x(),N(X,{key:c.label,clickable:"",onClick:_=>e.navigateTo(c.route)},{default:u(()=>[d(H,{avatar:""},{default:u(()=>[d(ae,{name:c.icon},null,8,["name"])]),_:2},1024),d(H,null,{default:u(()=>[V(K(c.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[ee]])),128))]),_:2},1024)]),_:2},1024)):we("",!0)]),_:2},1032,["onClick"])),[[ee,!f.submenu]])),128))]),_:2},1024)]),_:2},1032,["label","icon"]))),128))]),_:1})]),_:1}),d(bt,{modelValue:e.showNuevoPeriodo,"onUpdate:modelValue":s[5]||(s[5]=o=>e.showNuevoPeriodo=o),persistent:""},{default:u(()=>[d(pt,{style:{"min-width":"350px"}},{default:u(()=>[d(ye,null,{default:u(()=>[Y("div",Dt,[V(" Ingrese el nuevo periodo para la empresa: "),Y("div",Nt,K(e.empresa?e.empresa.nombre_empresa:""),1)])]),_:1}),d(ye,{class:"q-pt-none"},{default:u(()=>[d(ht,{dense:"",modelValue:e.nuevoPeriodo,"onUpdate:modelValue":s[4]||(s[4]=o=>e.nuevoPeriodo=o),autofocus:"",type:"number"},null,8,["modelValue"])]),_:1}),d(gt,{align:"right",class:"text-primary"},{default:u(()=>[J(d(I,{flat:"",label:"Cancelar"},null,512),[[ee]]),J(d(I,{push:"",label:"Guardar",color:"primary",onClick:e.guardarPeriodo},null,8,["onClick"]),[[ee]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(At,null,{default:u(()=>[(x(),N(v,{key:e.componenteHijoKey,onEmpresaAgregada:e.validarSiEmpresa},null,8,["onEmpresaAgregada"]))]),_:1})]),_:1})}var Zt=st(It,[["render",Mt]]);export{Zt as default};
