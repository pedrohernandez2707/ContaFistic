import{a as y,Q as A}from"./QBreadcrumbs.4144acfc.js";import{h as i}from"./QSelect.70b07cba.js";import{_ as G,d as I,g as t,o as S,aF as j,w as n,a as Q,e as a,i as E,f as s,j as B,bl as T,Q as U,ap as $,bx as r,l as C}from"./index.e60fa00d.js";import{Q as q,a as P,b as N,c as M}from"./QTabPanels.a8899168.js";import{Q as J}from"./QPage.b16c688f.js";import{a as m}from"./axios.a61b5a41.js";import"./selection.21886ae7.js";import"./touch.b1b9965a.js";import"./use-render-cache.3aae9b27.js";const L=I({setup(){const e=t("periodo"),l=t("diario"),p=t("diario"),V=t([]),v=t([]),f=t([]),o=t(""),g=t(),u=t({contribuyente:null,empresa:null,periodo:null,hastaCuenta:"",desdeCuenta:""}),w=()=>{m.get("/contribuyentes").then(d=>{V.value=d.data})},k=()=>{Q.show({message:"Cargando empresas"}),m.get("/empresas/contribuyente",{params:{id_contribuyente:u.value.contribuyente.id}}).then(d=>{v.value=d.data,Q.hide()})},D=()=>{u.value.empresa&&(u.value.periodo=null,m.get("/periodos/abiertos/"+u.value.empresa.id).then(d=>{f.value=d.data}))};return{generarReporte:async()=>{console.log(p.value),console.log(l.value),console.log(e.value);let d="";e.value=="periodo"?(d="xperiodo",l.value+d):e.value=="mes"&&(d="xperiodo",p.value+d),await m.get("/reportes/balancesaldos").then(b=>{g.value=b.data});let F={reporte:"balance_saldosxmes_report",data:g};console.log(g),m.post("http://localhost:3010/report",F,{responseType:"blob"}).then(async b=>{console.log("ok",b.data);const R=URL.createObjectURL(b.data);console.log("ok2",R),o.value=R})},scrReport:o,periodos:f,selectEmpresa:()=>{D()},getEmpresas:k,getContribuyentes:w,contribuyentes:V,empresas:v,form:u,periodo:2023,mesInicial:t(null),mesFinal:t(null),mes:"",cuenta:"",proveedor:"",monto:null,sinMovimiento:!1,tab:e,reportePeriodo:l,reporteMes:p,meses:[{label:"Enero",value:1},{label:"Febrero",value:2},{label:"Marzo",value:3},{label:"Abril",value:4},{label:"Mayo",value:5},{label:"Junio",value:6},{label:"Julio",value:7},{label:"Agosto",value:8},{label:"Septiembre",value:9},{label:"Octubre",value:10},{label:"Noviembre",value:11},{label:"Diciembre",value:12}]}},mounted(){this.getContribuyentes()}}),O={class:""},z={class:"row q-col-gutter-sm"},H={class:"col-xs-4"},K={class:"col-xs-6"},W={class:"col-xs-2"},X={class:"col-xs-2"},Y={class:"col-xs-2"},Z={class:"col-xs-2"},h={class:"col-xs-2"},c={class:"col-xs-3"},x=s("div",{class:"row q-col-gutter-sm"},null,-1),_=s("br",null,null,-1),ee=s("br",null,null,-1),le={class:"row justify-end"},oe=s("br",null,null,-1),ae=["src"];function se(e,l,p,V,v,f){return S(),j(J,{padding:""},{default:n(()=>[a(A,null,{default:n(()=>[a(y,{label:"Sistema",icon:"home"}),a(y,{label:"Reportes",icon:"settings"}),a(y,{label:"Reportes",icon:"local_gas_station"})]),_:1}),a(U,{class:"q-mt-md"},{default:n(()=>[a(E,null,{default:n(()=>[s("div",O,[s("div",z,[s("div",H,[a(i,{label:"Contribuyente",modelValue:e.form.contribuyente,"onUpdate:modelValue":[l[0]||(l[0]=o=>e.form.contribuyente=o),e.getEmpresas],outlined:"",dense:"",options:e.contribuyentes,"option-value":"id","option-label":"nombre_contribuyente"},null,8,["modelValue","options","onUpdate:modelValue"])]),s("div",K,[a(i,{label:"Empresa",modelValue:e.form.empresa,"onUpdate:modelValue":[l[1]||(l[1]=o=>e.form.empresa=o),e.selectEmpresa],outlined:"",dense:"",options:e.empresas,"option-value":"id","option-label":"nombre_empresa"},null,8,["modelValue","options","onUpdate:modelValue"])]),s("div",W,[a(i,{label:"Per\xEDodo",modelValue:e.form.periodo,"onUpdate:modelValue":l[2]||(l[2]=o=>e.form.periodo=o),options:e.periodos,outlined:"",dense:"","option-label":"periodo","option-value":"periodo"},null,8,["modelValue","options"])]),s("div",X,[a(B,{label:"Desde Cta.",modelValue:e.form.desdeCuenta,"onUpdate:modelValue":l[3]||(l[3]=o=>e.form.desdeCuenta=o),type:"text",outlined:"",dense:""},null,8,["modelValue"])]),s("div",Y,[a(B,{label:"Hasta Cta.",modelValue:e.form.hastaCuenta,"onUpdate:modelValue":l[4]||(l[4]=o=>e.form.hastaCuenta=o),type:"text",outlined:"",dense:""},null,8,["modelValue"])]),s("div",Z,[a(i,{label:"Mes Inicial",modelValue:e.mesInicial,"onUpdate:modelValue":l[5]||(l[5]=o=>e.mesInicial=o),options:e.meses,"option-label":"label","option-value":"value",outlined:"",dense:""},null,8,["modelValue","options"])]),s("div",h,[a(i,{label:"Mes Final",modelValue:e.mesFinal,"onUpdate:modelValue":l[6]||(l[6]=o=>e.mesFinal=o),options:e.meses,"option-label":"label","option-value":"value",outlined:"",dense:""},null,8,["modelValue","options"])]),s("div",c,[a(T,{modelValue:e.sinMovimiento,"onUpdate:modelValue":l[7]||(l[7]=o=>e.sinMovimiento=o),label:"Sin Movimiento"},null,8,["modelValue"])])]),x]),_,a(U,null,{default:n(()=>[a(q,{modelValue:e.tab,"onUpdate:modelValue":l[8]||(l[8]=o=>e.tab=o),class:"text-bold"},{default:n(()=>[a(P,{name:"periodo",label:"Reportes x Periodo"}),a(P,{name:"mes",label:"Reportes al Mes"}),a(P,{name:"compras",label:"Reportes de Compras y Ventas"})]),_:1},8,["modelValue"]),a($),a(N,{modelValue:e.tab,"onUpdate:modelValue":l[23]||(l[23]=o=>e.tab=o),animated:""},{default:n(()=>[a(M,{name:"periodo"},{default:n(()=>[a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[9]||(l[9]=o=>e.reportePeriodo=o),val:"diario",label:"Diario"},null,8,["modelValue"]),a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[10]||(l[10]=o=>e.reportePeriodo=o),val:"mayor",label:"Mayor"},null,8,["modelValue"]),a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[11]||(l[11]=o=>e.reportePeriodo=o),val:"balance",label:"Balance"},null,8,["modelValue"]),a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[12]||(l[12]=o=>e.reportePeriodo=o),val:"ERC",label:"ER Consolidado"},null,8,["modelValue"]),a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[13]||(l[13]=o=>e.reportePeriodo=o),val:"ERA",label:"ER Anal\xEDtio"},null,8,["modelValue"]),a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[14]||(l[14]=o=>e.reportePeriodo=o),val:"BGC",label:"BG Consolidado"},null,8,["modelValue"]),a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[15]||(l[15]=o=>e.reportePeriodo=o),val:"BGA",label:"BG Anal\xEDtico"},null,8,["modelValue"]),a(r,{modelValue:e.reportePeriodo,"onUpdate:modelValue":l[16]||(l[16]=o=>e.reportePeriodo=o),val:"flujo",label:"Flujo de Efectivo"},null,8,["modelValue"])]),_:1}),a(M,{name:"mes"},{default:n(()=>[a(r,{modelValue:e.reporteMes,"onUpdate:modelValue":l[17]||(l[17]=o=>e.reporteMes=o),val:"diario",label:"Diario"},null,8,["modelValue"]),a(r,{modelValue:e.reporteMes,"onUpdate:modelValue":l[18]||(l[18]=o=>e.reporteMes=o),val:"mayor",label:"Mayor"},null,8,["modelValue"]),a(r,{modelValue:e.reporteMes,"onUpdate:modelValue":l[19]||(l[19]=o=>e.reporteMes=o),val:"balance",label:"Balance"},null,8,["modelValue"]),a(r,{modelValue:e.reporteMes,"onUpdate:modelValue":l[20]||(l[20]=o=>e.reporteMes=o),val:"resultados",label:"Est. Resultados"},null,8,["modelValue"]),a(r,{modelValue:e.reporteMes,"onUpdate:modelValue":l[21]||(l[21]=o=>e.reporteMes=o),val:"bgeneral",label:"Balance General"},null,8,["modelValue"]),a(r,{modelValue:e.reporteMes,"onUpdate:modelValue":l[22]||(l[22]=o=>e.reporteMes=o),val:"inventarios",label:"Inventarios"},null,8,["modelValue"])]),_:1}),a(M,{name:"compras"},{default:n(()=>[a(C,{label:"Compras",color:"primary"}),a(C,{label:"Ventas",color:"primary"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),ee,s("div",le,[a(C,{label:"Generar Reporte",color:"primary",onClick:e.generarReporte},null,8,["onClick"])])]),_:1})]),_:1}),oe,a(U,null,{default:n(()=>[a(E,null,{default:n(()=>[s("iframe",{src:e.scrReport,width:"100%",style:{height:"90vh"}},null,8,ae)]),_:1})]),_:1})]),_:1})}var fe=G(L,[["render",se]]);export{fe as default};
